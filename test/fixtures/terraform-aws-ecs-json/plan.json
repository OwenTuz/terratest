{"format_version":"0.1","terraform_version":"0.13.4","planned_values":{"root_module":{"resources":[{"address":"aws_ecs_cluster.example","mode":"managed","type":"aws_ecs_cluster","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"capacity_providers":null,"default_capacity_provider_strategy":[],"name":"terratest-example","tags":null}},{"address":"aws_ecs_service.example","mode":"managed","type":"aws_ecs_service","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"capacity_provider_strategy":[],"deployment_controller":[],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":0,"enable_ecs_managed_tags":false,"force_new_deployment":null,"health_check_grace_period_seconds":null,"launch_type":"FARGATE","load_balancer":[],"name":"terratest-example","network_configuration":[],"ordered_placement_strategy":[],"placement_constraints":[],"propagate_tags":null,"scheduling_strategy":"REPLICA","service_registries":[],"tags":null,"timeouts":null}},{"address":"aws_ecs_task_definition.example","mode":"managed","type":"aws_ecs_task_definition","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"container_definitions":"[{\"image\":\"terratest-example\",\"name\":\"terratest\"}]","cpu":"256","family":"terratest","inference_accelerator":[],"ipc_mode":null,"memory":"512","network_mode":"awsvpc","pid_mode":null,"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"tags":null,"task_role_arn":null,"volume":[]}},{"address":"aws_iam_role.execution","mode":"managed","type":"aws_iam_role","name":"execution","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ecs-tasks.amazonaws.com\"\n      }\n    }\n  ]\n}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"terratest-example","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null}},{"address":"aws_iam_role_policy_attachment.execution","mode":"managed","type":"aws_iam_role_policy_attachment","name":"execution","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy","role":"terratest-example"}},{"address":"data.aws_iam_policy_document.assume-execution","mode":"data","type":"aws_iam_policy_document","name":"assume-execution","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"320642683","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ecs-tasks.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"policy_id":null,"source_json":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["ecs-tasks.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"}}]}},"resource_changes":[{"address":"aws_ecs_cluster.example","mode":"managed","type":"aws_ecs_cluster","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"capacity_providers":null,"default_capacity_provider_strategy":[],"name":"terratest-example","tags":null},"after_unknown":{"arn":true,"default_capacity_provider_strategy":[],"id":true,"setting":true}}},{"address":"aws_ecs_service.example","mode":"managed","type":"aws_ecs_service","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"capacity_provider_strategy":[],"deployment_controller":[],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":0,"enable_ecs_managed_tags":false,"force_new_deployment":null,"health_check_grace_period_seconds":null,"launch_type":"FARGATE","load_balancer":[],"name":"terratest-example","network_configuration":[],"ordered_placement_strategy":[],"placement_constraints":[],"propagate_tags":null,"scheduling_strategy":"REPLICA","service_registries":[],"tags":null,"timeouts":null},"after_unknown":{"capacity_provider_strategy":[],"cluster":true,"deployment_controller":[],"iam_role":true,"id":true,"load_balancer":[],"network_configuration":[],"ordered_placement_strategy":[],"placement_constraints":[],"platform_version":true,"service_registries":[],"task_definition":true}}},{"address":"aws_ecs_task_definition.example","mode":"managed","type":"aws_ecs_task_definition","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"container_definitions":"[{\"image\":\"terratest-example\",\"name\":\"terratest\"}]","cpu":"256","family":"terratest","inference_accelerator":[],"ipc_mode":null,"memory":"512","network_mode":"awsvpc","pid_mode":null,"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"tags":null,"task_role_arn":null,"volume":[]},"after_unknown":{"arn":true,"execution_role_arn":true,"id":true,"inference_accelerator":[],"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":[false],"revision":true,"volume":[]}}},{"address":"aws_iam_role.execution","mode":"managed","type":"aws_iam_role","name":"execution","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ecs-tasks.amazonaws.com\"\n      }\n    }\n  ]\n}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"terratest-example","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"unique_id":true}}},{"address":"aws_iam_role_policy_attachment.execution","mode":"managed","type":"aws_iam_role_policy_attachment","name":"execution","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy","role":"terratest-example"},"after_unknown":{"id":true}}},{"address":"data.aws_iam_policy_document.assume-execution","mode":"data","type":"aws_iam_policy_document","name":"assume-execution","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"320642683","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ecs-tasks.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"policy_id":null,"source_json":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["ecs-tasks.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"after":{"id":"320642683","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ecs-tasks.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"policy_id":null,"source_json":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["ecs-tasks.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"after_unknown":{}}}],"prior_state":{"format_version":"0.1","terraform_version":"0.13.4","values":{"root_module":{"resources":[{"address":"data.aws_iam_policy_document.assume-execution","mode":"data","type":"aws_iam_policy_document","name":"assume-execution","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"320642683","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ecs-tasks.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"policy_id":null,"source_json":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["ecs-tasks.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","expressions":{"region":{"constant_value":"us-east-1"}}}},"root_module":{"resources":[{"address":"aws_ecs_cluster.example","mode":"managed","type":"aws_ecs_cluster","name":"example","provider_config_key":"aws","expressions":{"name":{"constant_value":"terratest-example"}},"schema_version":0},{"address":"aws_ecs_service.example","mode":"managed","type":"aws_ecs_service","name":"example","provider_config_key":"aws","expressions":{"cluster":{"references":["aws_ecs_cluster.example"]},"desired_count":{"constant_value":0},"launch_type":{"constant_value":"FARGATE"},"name":{"constant_value":"terratest-example"},"task_definition":{"references":["aws_ecs_task_definition.example"]}},"schema_version":0},{"address":"aws_ecs_task_definition.example","mode":"managed","type":"aws_ecs_task_definition","name":"example","provider_config_key":"aws","expressions":{"container_definitions":{"constant_value":"[\n  {\n    \"name\" : \"terratest\",\n    \"image\": \"terratest-example\"\n  }\n]\n"},"cpu":{"constant_value":256},"execution_role_arn":{"references":["aws_iam_role.execution"]},"family":{"constant_value":"terratest"},"memory":{"constant_value":512},"network_mode":{"constant_value":"awsvpc"},"requires_compatibilities":{"constant_value":["FARGATE"]}},"schema_version":1},{"address":"aws_iam_role.execution","mode":"managed","type":"aws_iam_role","name":"execution","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume-execution"]},"name":{"constant_value":"terratest-example"}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.execution","mode":"managed","type":"aws_iam_role_policy_attachment","name":"execution","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"},"role":{"references":["aws_iam_role.execution"]}},"schema_version":0},{"address":"data.aws_iam_policy_document.assume-execution","mode":"data","type":"aws_iam_policy_document","name":"assume-execution","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"principals":[{"identifiers":{"constant_value":["ecs-tasks.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0}]}}}
